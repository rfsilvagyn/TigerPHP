<?php
class Empresas extends Model {
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //VARIAVEIS PRIVADAS
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  private $infoEmpresa;
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //CONSTRUTOR
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  public function __construct($id) {
    parent::__construct();

    $sql = "SELECT * FROM tb_empresas WHERE id = :id";
    $sql = $this->db->prepare($sql);
    $sql->bindValue(':id', $id);
    $sql->execute();

    if ($sql->rowCount() > 0) {
      $this->infoEmpresa = $sql->fetch(PDO::FETCH_ASSOC);
    }
  }
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //OBTER NOME DA EMPRESA
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  public function obterNome() {
    if (isset($this->infoEmpresa['nome'])) {
      return $this->infoEmpresa['nome'];
    } else {
      return '';
    }
  }
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //OBTER IP E PORTA IMPRESSORA ESCPOS
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  public function obterIpPortaEscPos($id) {
    $array = array();

    $sql = "SELECT ipescpos, portaescpos FROM tb_empresas WHERE id = :id";
    $sql = $this->db->prepare($sql);
    $sql->bindValue(':id', $id);
    $sql->execute();

    if ($sql->rowCount() > 0) {
      $array = $sql->fetch(PDO::FETCH_ASSOC);
    }
    return $array;
  }




}
?>
